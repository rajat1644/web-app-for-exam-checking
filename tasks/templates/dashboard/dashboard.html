{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block title %}Dashboard{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-4">Hello {{ user.first_name|default:user.username }}!</h2>

  <div class="row mb-4">
    <div class="col-md-4">
      <div class="card text-white bg-primary shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Total Tasks Assigned</h5>
          <p class="card-text fs-4">{{ total_tasks }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-white bg-success shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Tasks Completed</h5>
          <p class="card-text fs-4">{{ completed_tasks }}</p>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-white bg-warning shadow-sm">
        <div class="card-body">
          <h5 class="card-title">Pending Tasks</h5>
          <p class="card-text fs-4">{{ pending_tasks }}</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row text-center">
    <div class="col-md-4 mb-3">
      <a href="{% url 'task_list' %}" class="btn btn-outline-primary w-100">Start New Task</a>
    </div>
    <div class="col-md-4 mb-3">
      <a href="{% url 'submission_history' %}" class="btn btn-outline-success w-100">Submissions</a>
    </div>
    <div class="col-md-4 mb-3">
      <a href="{% url 'profile' %}" class="btn btn-outline-secondary w-100">Edit Profile</a>  {# this will work once profile route is defined #}
    </div>
  </div>
</div>
{% endblock %}
